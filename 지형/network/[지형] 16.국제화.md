# 16장 국제화

* 매일 수십억의 사람들이 수백 가지 언어로 문서를 작성한다.

* 월드 와이드 웹의 진정한 비전에 부응하기 위해서, HTTP는 여러 언어와 문자로 된 국제 문서들의 처리 및 전송을 지원해야 한다.

* 이 장은 두 가지 주요 국제화 이슈인 문자집합 인코딩과 언어 태그를 다룬다.

* HTTP 애플리케이션은 여러 언어의 문자로 텍스트를 보여주고 요청하기 위해 `문자집합 인코딩`을 사용한다.

* 그리고 그것들은 사용자가 이해할 수 있는 언어만으로 콘텐츠를 서술하기 위해 `언어 태그`를 사용한다.

## 16.1 국제적인 콘텐츠를 다루기 위해 필요한 HTTP 지원

* HTTP 메시지는 어떤 언어로 된 콘텐츠든, 이미지, 동영상 혹은 그 외 다른 종류의 미디어처럼 실어 나를 수 있다.

* HTTP에서 엔터티 본문이란 그저 비트들로 가득 찬 상자에 불과하다.

* 국제 콘첸츠를 지원하기 위해, 서버는 클라이언트에게 각 문서의 문자와 언어를 알려줘서, 클라이언트가 올바르게 문서를 이루고 있는 비트들을 문자들로 풀어내고,  
올바르게 처리해서 사용자에게 콘텐츠를 제공해줄 수 있도록 할 필요가 있다.

* 서버는 클라이언트에게 문서의 문자와 언어를 `HTTP Content-Type charset 매개변수`와 `Content-Language` 헤더를 통해 알려준다.

    - 이 헤더들은 엔터티 본문의 '비트들로 가득 찬 상자'에 무엇이 들어있는지

    - 어떻게 콘텐츠를 화면에 출력될 올바른 글자들로 바꾸는지

    - 그리고 그 텍스트가 어떤 언어에 해당하는지 서술한다.

* 동시에, 클라이언트는 서버에게 사용자가 어떤 언어를 이해할 수 있고 어떤 알파벳의 코딩 알고리즘이 브라우저에 설치되어 있는지 말해줄 필요가 있다.

* 클라이언트는 서버에게 자신이 어떤 차셋 인코딩 알고리즘들과 언어들을 이해하며 그 중 무엇을 선호하는지 말해주기 위해  
`Accept-Charset`과 `Accept-Language` 헤더를 보낸다.

### 16.2.1 차셋(Charset)은 글자를 비트로 변환하는 인코딩이다.

* HTTP 차셋 값은, 어떻게 엔터티 콘텐츠 비트들을 특정 문자 체계의 글자들로 바꾸는지 말해준다.

* 각 차셋 태그는 비트들을 글자들로 변환하거나 혹은 그 반대의 일을 해주는 알고리즘을 명명한다.

* 그림 16-1 : charset 매개변수는 클라이언트에게 어떻게 비트들을 글자들로 변환하는지 알려준다.
    <img src = images/16/example_01.png>
    
    <br>

    - Content-Type 헤더는 수신자에게 콘텐츠가 HTML 파일임을 말해준다.

    - charset 매개변수는 수신자에게 콘텐츠 비트들을 글자들로 디코딩하기 위해 iso-8859-6 아랍 문자집합 디코딩 기법을 사용하라고 말해준다.


### 16.2.2 문자집합과 인코딩은 어떻게 동작하는가

* 그림 16-2 : 비트들을 문자로 변환하는 예시

    <img src = images/16/example_02.png>
    
    <br>

    1. 문서를 이루는 비트들은, 특정 코딩된 문자집합의 특정 문자로 식별될 수 있는 문자 코드로 변환된다.

    2. 문자 코드는 코딩된 문자집합의 특정 요소를 선택하기 위해 사용된다.

        * 단계 1(a), 2(b) 에서 사용되는 알고리즘은 MIME 차셋 태그를 통해 결정된다.

    3. 글자의 모양을 어떻게 표현할 것인가 하는 것은 사용자의 그래픽 디스플레이 소프트웨어가 결정한다.


### 16.2.4 표준화된 MIME 차셋 값

* 특정 문자 인코딩과 특정 코딩된 문자집합의 결합을 MIME 차셋이라고 부른다.

* HTTP는 표준화된 MIME 차셋 태그를 Content-Type 과 Accept-Charset 헤더에 사용한다.

* MIME 차셋의 값은 IANA에 등록되어 있다.

### 16.2.5 Content-Type charset 헤더와 META 태그

```
Content-Type: text/html; charset-iso-2022-jp
```

* 웹 서버는 클라이언트에게 MIME 차셋 태그를 charset 매개변수와 함께 Content-Type 헤더에 담아 보낸다.


### 16.2.6 Accept-Charset 헤더

* HTTP 클라이언트는 서버에게 정확히 어떤 문자 체계를 그들이 지원하는지 Accept-Charset 요청 헤더를 통해 알려준다.

* Accept-Charset 헤더의 값은 클라이언트가 지원하는 문자 인코딩의 목록을 제공한다.

    ```
    Accept-Charset: iso-8859-1, utf-8
    ```

### 16.4.1 Content-Language 헤더

* Content-Language 엔터티 헤더 필드는 엔터티가 어떤 언어 사용자를 대상으로 하고 있는지 서술한다.

* 만약 주로 프랑스어 사용자를 대상으로 하고 있다면, Content-Language 헤더 필드는 다음을 포함할 것이다.

    ```
    Content-Language: fr
    ```

* Content-Language 헤더는 텍스트 문서만을 위한 것이 아니다.
    - 오디오 클립, 동영상 그리고 애플리케이션도 특정 언어 사용자를 대상으로 할 수 있다.

### 16.4.2 Accept-Language 헤더

* HTTP는 우리에게 우리의 언어 제약과 선호도를 웹 서버에 전달할 수 있게 해준다.

* 만약 웹 서버가 어떤 자원에 대해 여러 언어로 된 버전을 갖고 있다면, 웹 서버는 우리가 선호하는 언어로 된 콘텐츠를 줄 수 있다.

* 스페인어로 된 콘텐츠에 대한 클라이언트 요청은 다음과 같다.
    ```
    Accept-Language: es
    ```
* 클라이언트는 자신이 이해할 수 있는 콘텐츠를 요청하기 위해 Accept-Language와 Accept-Charset을 사용할 수 있다.